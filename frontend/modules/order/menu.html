<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Food - Food Ordering System</title>

    <script src="../../common/js/config.js"></script>
    <script src="../../common/js/tailwind-theme.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Animate.css for animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <!-- AOS (Animate On Scroll) -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />

    <!-- Common CSS -->
    <link rel="stylesheet" href="../../common/css/common.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="order-styles.css">

    <!-- Tailwind Config -->
    <!-- Tailwind theme loaded from common/tailwind-theme.js -->

    <!-- Common JS Files -->
    <script defer src="../../common/js/api.js"></script>
    <script defer src="../../common/js/auth.js"></script>
    <script defer src="../../common/js/utils.js"></script>
    <script defer src="../../common/js/navbar.js"></script>
</head>
<body>
    <!-- Common Navigation Bar (unified style) -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="#" id="navbar-brand-link" class="navbar-brand">
                <i class="fas fa-utensils"></i>
                Food Ordering System
            </a>

            <ul class="navbar-menu" id="navbar-menu">
                <!-- Guest Menu -->
                <li id="nav-guest" style="display: none;">
                    <a href="#" id="nav-home-link" class="navbar-link">
                        <i class="fas fa-home"></i> Home
                    </a>
                </li>

                <!-- User Menu -->
                <li id="nav-user-dashboard" style="display: none;">
                    <a href="#" id="nav-user-dashboard-link" class="navbar-link">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                </li>
                <li id="nav-user-order" style="display: none;">
                    <a href="#" id="nav-user-order-link" class="navbar-link">
                        <i class="fas fa-shopping-cart"></i> Order Food
                    </a>
                </li>
                <li id="nav-user-profile" style="display: none;">
                    <a href="#" id="nav-user-profile-link" class="navbar-link">
                        <i class="fas fa-user"></i> My Profile
                    </a>
                </li>

                <!-- Admin Menu -->
                <li id="nav-admin-dashboard" style="display: none;">
                    <a href="#" id="nav-admin-dashboard-link" class="navbar-link">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                </li>
                <li id="nav-admin-menu" style="display: none;">
                    <a href="#" id="nav-admin-menu-link" class="navbar-link">
                        <i class="fas fa-utensils"></i> Menu Management
                    </a>
                </li>

                <!-- User Info & Actions -->
                <li>
                    <div class="navbar-user-info" id="navbar-user-info" style="display: none;">
                        <i class="fas fa-user-circle"></i>
                        <span id="navbar-username"></span>
                    </div>
                </li>
                <li id="nav-login" style="display: none;">
                    <button class="navbar-button" onclick="navLogin()">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </li>
                <li id="nav-logout" style="display: none;">
                    <button class="logout-btn" onclick="navLogout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </li>
                <li id="nav-cart-button">
                    <button class="navbar-button" onclick="toggleCart()" style="background: var(--color-accent); color: var(--color-dark);">
                        <i class="fas fa-shopping-cart"></i> Cart (<span id="cart-count">0</span>)
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="content-container">

        <!-- Cart bar (summary) shown below top menu -->
        <div class="cart-bar" id="cart-bar">
            <div class="cart-bar-inner">
                <div class="cart-bar-info">
                    <strong>Cart:</strong>
                    <span id="cart-count-bar">0</span> items â€¢ <span id="cart-total-bar">$0.00</span>
                </div>
                <div class="cart-bar-actions">
                    <button class="btn-small btn-primary" onclick="toggleCart()">View Cart</button>
                    <button class="btn-small btn-outline" onclick="showCheckout()">Checkout</button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Categories Sidebar -->
            <aside class="categories-sidebar">
                <h2>Categories</h2>
                <div id="categories-list"></div>
            </aside>

            <!-- Menu Items -->
            <main class="menu-section">
                <h2 id="section-title">All Items</h2>
                <div id="menu-items" class="menu-grid"></div>
            </main>

            <!-- Cart Sidebar -->
            <aside class="cart-sidebar" id="cart-sidebar">
                <div class="cart-header">
                    <h2>Your Cart</h2>
                    <button class="close-btn" onclick="toggleCart()">âœ•</button>
                </div>
                <div id="cart-items"></div>
                <div class="cart-footer">
                    <div class="cart-total">
                        <strong>Total:</strong>
                        <span id="cart-total">$0.00</span>
                    </div>
                    <button class="checkout-btn" onclick="showCheckout()">Checkout</button>
                </div>
            </aside>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCheckout()">&times;</span>
            <h2>ðŸ›’ Checkout</h2>
            <form id="checkout-form">
                <div class="form-group">
                    <label for="customer-address">
                        <i class="fas fa-map-marker-alt"></i> Delivery Address:
                    </label>
                    <textarea id="customer-address" rows="3" placeholder="Enter your delivery address" required></textarea>
                </div>

                <div class="form-group">
                    <label for="payment-method">
                        <i class="fas fa-credit-card"></i> Payment Method:
                    </label>
                    <select id="payment-method" required>
                        <option value="cash">Cash on Delivery</option>
                        <option value="card">Credit/Debit Card</option>
                        <option value="online">Online Payment</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="special-instructions">
                        <i class="fas fa-comment"></i> Special Instructions (Optional):
                    </label>
                    <textarea id="special-instructions" rows="2" placeholder="Any special requests?"></textarea>
                </div>

                <div class="order-summary">
                    <h3>ðŸ“‹ Order Summary</h3>
                    <div id="checkout-items"></div>
                    <div class="checkout-total">
                        <strong>Total Amount:</strong>
                        <span id="checkout-total">$0.00</span>
                    </div>
                </div>

                <button type="submit" class="submit-btn">
                    <i class="fas fa-check-circle"></i> Place Order
                </button>
            </form>
        </div>
    </div>



    <script src="order.js"></script>

    <!-- AOS (Animate On Scroll) -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });
    </script>
</body>
</html>

